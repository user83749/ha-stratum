import{b as c,a as S,f as _,d as It}from"./CHLJW1vT.js";import{p as Et,d as a,g as t,r as e,t as p,b as Ot,X as l,c as s,Y as Pt}from"./BFobMjM6.js";import{s as d}from"./CbAumXQD.js";import{i as I}from"./DtaZhLEA.js";import{I as z,j as ot,k as St,e as Dt,b as Rt}from"./pOHzWP0b.js";import{s as $,g as q}from"./CoH-M4O8.js";var Bt=_('<div class="primary-temp svelte-1c8luuh"> </div>'),Ft=_('<span class="sep svelte-1c8luuh">•</span> <span class="target-val svelte-1c8luuh"> </span>',1),Gt=_('<button class="layout-sm svelte-1c8luuh"><div class="sm-icon svelte-1c8luuh"><!></div> <!> <div class="sm-meta svelte-1c8luuh"><span class="meta-label svelte-1c8luuh"> </span> <!></div></button>'),Vt=_('<span class="target svelte-1c8luuh"> </span>'),Wt=_('<div class="md-temp svelte-1c8luuh"><span class="val svelte-1c8luuh"> </span> <!></div>'),Xt=_('<div class="md-controls svelte-1c8luuh"><button class="adj-btn svelte-1c8luuh" aria-label="Lower temp"><!></button> <button class="adj-btn svelte-1c8luuh" aria-label="Raise temp"><!></button></div>'),Yt=_('<div class="layout-md svelte-1c8luuh"><button class="md-left svelte-1c8luuh" aria-label="Toggle Power"><div class="md-icon"><!></div> <div class="md-status svelte-1c8luuh"><div class="status-val svelte-1c8luuh"> </div> <div class="device-name svelte-1c8luuh"> </div></div></button> <div class="md-right svelte-1c8luuh"><!> <!></div></div>'),qt=_('<div class="stat svelte-1c8luuh"><!> <span> </span></div>'),Jt=_('<div class="current-hero svelte-1c8luuh"> <span class="unit svelte-1c8luuh"></span></div>'),Kt=_("<button><!> <span> </span></button>"),Nt=_('<div class="mode-switcher svelte-1c8luuh"></div>'),Qt=_('<div><div class="lg-top svelte-1c8luuh"><div class="lg-hero svelte-1c8luuh"><div class="lg-icon-box svelte-1c8luuh"><!></div> <div class="lg-hero-text svelte-1c8luuh"><div class="lg-mode svelte-1c8luuh"> </div> <div class="lg-name svelte-1c8luuh"> </div></div></div> <div class="lg-stats svelte-1c8luuh"><!> <button><!></button></div></div> <div class="lg-main svelte-1c8luuh"><div class="temp-display svelte-1c8luuh"><!> <div class="target-control svelte-1c8luuh"><button class="temp-btn svelte-1c8luuh"><!></button> <div class="target-val svelte-1c8luuh"><span class="lbl svelte-1c8luuh">TARGET</span> <span class="num svelte-1c8luuh"> </span></div> <button class="temp-btn svelte-1c8luuh"><!></button></div></div></div> <!></div>'),Ut=_("<div><!></div>");function le(bt,v){Et(v,!0);const tt=l(()=>v.tile.layout?.w??v.tile.size?.w??1),et=l(()=>v.tile.layout?.h??v.tile.size?.h??1),J=l(()=>t(tt)>=4&&t(et)>=3?"xl":t(tt)>=3&&t(et)>=2?"lg":t(tt)>=2||t(et)>=2?"md":"sm"),at=l(()=>v.tile.entity_id??v.entity?.entity_id??""),ut=l(()=>v.tile.config.name??v.entity?.attributes.friendly_name??"Climate"),V=l(()=>v.entity?.attributes.current_temperature),M=l(()=>v.entity?.attributes.temperature),ct=l(()=>v.entity?.attributes.current_humidity),gt=l(()=>v.entity?.attributes.min_temp??10),pt=l(()=>v.entity?.attributes.max_temp??32),o=l(()=>v.entity?.state??"off"),st=l(()=>v.entity?.attributes.hvac_modes??[]),y=l(()=>t(o)==="off"),yt=l(()=>v.entity?.state==="unavailable"||v.entity?.state==="unknown"),W=l(()=>t(y)?"var(--fg-subtle)":t(o)==="cool"?"var(--color-info)":t(o)==="heat"?"var(--color-warning)":t(o)==="heat_cool"||t(o)==="auto"?"var(--color-on)":"var(--fg-muted)"),lt=l(()=>t(o)==="cool"?"snowflake":t(o)==="heat"?"flame":t(o)==="heat_cool"?"thermometer":t(o)==="auto"?"cpu":t(o)==="fan_only"?"wind":t(o)==="dry"?"droplets":"power"),Q={off:"Off",heat:"Heating",cool:"Cooling",heat_cool:"Auto",auto:"Auto",fan_only:"Fan",dry:"Dry"},vt=l(()=>Q[t(o)]??t(o).replace(/_/g," "));function U(i){if(t(M)===void 0)return;const r=St(t(M)+i,t(gt),t(pt));ot.setTemperature(t(at),r)}function xt(i){ot.setHvacMode(t(at),i)}function it(){ot.setHvacMode(t(at),t(y)?t(st).find(i=>i!=="off")??"heat":"off")}var K=Ut();let dt;var wt=a(K);{var kt=i=>{var r=Gt(),m=a(r),x=a(m);z(x,{get name(){return t(lt)},size:38}),e(m);var E=s(m,2);{var T=h=>{var f=Bt(),j=a(f);e(f),p(R=>d(j,`${R??""}°`),[()=>Math.round(t(V))]),c(h,f)};I(E,h=>{t(V)!==void 0&&h(T)})}var C=s(E,2),O=a(C),L=a(O,!0);e(O);var N=s(O,2);{var D=h=>{var f=Ft(),j=s(Pt(f),2),R=a(j);e(j),p(u=>d(R,`${u??""}°`),[()=>Math.round(t(M))]),c(h,f)};I(N,h=>{t(M)!==void 0&&!t(y)&&h(D)})}e(C),e(r),p(()=>{q(m,`color: ${t(W)??""}`),d(L,t(vt))}),S("click",r,it),c(i,r)},zt=i=>{var r=Yt(),m=a(r),x=a(m),E=a(x);z(E,{get name(){return t(lt)},size:48}),e(x);var T=s(x,2),C=a(T),O=a(C,!0);e(C);var L=s(C,2),N=a(L,!0);e(L),e(T),e(m);var D=s(m,2),h=a(D);{var f=u=>{var w=Wt(),k=a(w),B=a(k);e(k);var P=s(k,2);{var X=F=>{var Y=Vt(),G=a(Y);e(Y),p(rt=>d(G,`Set to ${rt??""}°`),[()=>Math.round(t(M))]),c(F,Y)};I(P,F=>{t(M)!==void 0&&!t(y)&&F(X)})}e(w),p(F=>d(B,`${F??""}°`),[()=>Math.round(t(V))]),c(u,w)};I(h,u=>{t(V)!==void 0&&u(f)})}var j=s(h,2);{var R=u=>{var w=Xt(),k=a(w),B=a(k);z(B,{name:"minus",size:16}),e(k);var P=s(k,2),X=a(P);z(X,{name:"plus",size:16}),e(P),e(w),S("click",k,()=>U(-.5)),S("click",P,()=>U(.5)),c(u,w)};I(j,u=>{!t(y)&&t(M)!==void 0&&u(R)})}e(D),e(r),p(()=>{q(x,`color: ${t(W)??""}`),q(C,`color: ${t(y)?"var(--fg-muted)":"var(--mc)"}`),d(O,t(vt)),d(N,t(ut))}),S("click",m,it),c(i,r)},Mt=i=>{var r=Qt();let m;var x=a(r),E=a(x),T=a(E),C=a(T);{let n=l(()=>t(J)==="xl"?44:32);z(C,{get name(){return t(lt)},get size(){return t(n)}})}e(T);var O=s(T,2),L=a(O),N=a(L,!0);e(L);var D=s(L,2),h=a(D,!0);e(D),e(O),e(E);var f=s(E,2),j=a(f);{var R=n=>{var b=qt(),A=a(b);z(A,{name:"droplets",size:14});var g=s(A,2),H=a(g);e(g),e(b),p(()=>d(H,`${t(ct)??""}%`)),c(n,b)};I(j,n=>{t(ct)!==void 0&&n(R)})}var u=s(j,2);let w;var k=a(u);z(k,{name:"power",size:16}),e(u),e(f),e(x);var B=s(x,2),P=a(B),X=a(P);{var F=n=>{var b=Jt(),A=a(b,!0),g=s(A);g.textContent="°",e(b),p(H=>d(A,H),[()=>Math.round(t(V))]),c(n,b)};I(X,n=>{t(V)!==void 0&&n(F)})}var Y=s(X,2),G=a(Y),rt=a(G);z(rt,{name:"minus",size:24}),e(G);var nt=s(G,2),_t=s(a(nt),2),Tt=a(_t);e(_t),e(nt);var Z=s(nt,2),Ct=a(Z);z(Ct,{name:"plus",size:24}),e(Z),e(Y),e(P),e(B);var Lt=s(B,2);{var jt=n=>{var b=Nt();Dt(b,21,()=>t(st).filter(A=>A!=="off"),Rt,(A,g)=>{var H=Kt();let mt;var ht=a(H);{let Ht=l(()=>Q[t(g)]?.toLowerCase().includes("heat")?"flame":Q[t(g)]?.toLowerCase().includes("cool")?"snowflake":"thermometer");z(ht,{get name(){return t(Ht)},size:14})}var ft=s(ht,2),At=a(ft,!0);e(ft),e(H),p(()=>{mt=$(H,1,"mode-btn svelte-1c8luuh",null,mt,{active:t(o)===t(g)}),d(At,Q[t(g)]??t(g))}),S("click",H,()=>xt(t(g))),c(A,H)}),e(b),c(n,b)};I(Lt,n=>{t(st).length>1&&n(jt)})}e(r),p(n=>{m=$(r,1,"layout-lg svelte-1c8luuh",null,m,{"is-xl":t(J)==="xl"}),q(T,`background: color-mix(in srgb, ${t(W)??""} 15%, transparent); color: ${t(W)??""}`),q(L,`color: ${t(W)??""}`),d(N,t(vt)),d(h,t(ut)),w=$(u,1,"power-toggle svelte-1c8luuh",null,w,{active:!t(y)}),G.disabled=t(y),d(Tt,`${n??""}°`),Z.disabled=t(y)},[()=>t(M)!==void 0?Math.round(t(M)):"--"]),S("click",u,it),S("click",G,()=>U(-.5)),S("click",Z,()=>U(.5)),c(i,r)};I(wt,i=>{t(J)==="sm"?i(kt):t(J)==="md"?i(zt,1):i(Mt,!1)})}e(K),p(()=>{dt=$(K,1,`climate-tile size-${t(J)??""}`,"svelte-1c8luuh",dt,{"is-off":t(y),unavailable:t(yt)}),q(K,`--mc: ${t(W)??""};`)}),c(bt,K),Ot()}It(["click"]);export{le as default};
