import{b as v,f as c}from"./CHLJW1vT.js";import{p as ot,C as vt,e as ct,d as o,g as t,c as _,r as l,t as d,b as dt,X as n,s as _t}from"./BFobMjM6.js";import{s as u}from"./CbAumXQD.js";import{i as f}from"./DtaZhLEA.js";import{r as ut,g as ft,i as yt,a as mt,I as ht,e as gt,b as bt,f as N,c as wt,d as xt}from"./pOHzWP0b.js";import{s as P,g as jt,h as kt}from"./CoH-M4O8.js";import{a as pt,s as Ct}from"./CRHenurS.js";var St=c("<div><!></div>"),It=c('<span class="name-text svelte-ksljpn"> </span>'),Et=c('<span class="state-text svelte-ksljpn"> </span>'),Lt=c('<span class="secondary-val svelte-ksljpn"> </span>'),Tt=c('<span class="changed-val svelte-ksljpn"> </span>'),At=c('<div class="attr-card svelte-ksljpn"><span class="attr-label svelte-ksljpn"> </span> <span class="attr-value svelte-ksljpn"> </span></div>'),zt=c('<div class="attr-grid svelte-ksljpn"></div>'),Nt=c('<div><!> <div class="bottom-content svelte-ksljpn"><!> <!> <!> <!></div> <!></div>');function Dt(R,s){ot(s,!0);const U=()=>Ct(kt,"$entities",V),[V,X]=pt(),i=n(()=>s.tile.config??{}),q=n(()=>t(i).show_name!==!1),B=n(()=>t(i).show_icon!==!1),D=n(()=>t(i).show_state!==!1),F=n(()=>t(i).show_last_changed===!0),k=n(()=>t(i).show_attributes??[]),y=n(()=>s.tile.sizePreset??"md"),G=n(()=>s.entity?t(i).icon??wt(s.entity):t(i).icon??"circle-dot"),H=n(()=>s.entity?t(i).name??xt(s.entity):t(i).name??s.tile.entity_id??""),J=n(()=>s.entity?N(s.entity):"â€”"),K=n(()=>s.entity?ft(s.entity):"var(--fg-subtle)"),p=n(()=>s.entity?yt(s.entity):!1),M=n(()=>s.entity?mt(s.entity):!1),g=n(()=>t(i).secondary_entity_id?U()[t(i).secondary_entity_id]??null:null),C=n(()=>{if(!t(g))return null;if(t(i).secondary_attribute){const e=t(g).attributes[t(i).secondary_attribute];return e!==void 0?String(e):null}return N(t(g))}),S=n(()=>!s.entity||t(k).length===0?[]:t(k).filter(e=>s.entity.attributes[e]!==void 0).map(e=>({label:e.replace(/_/g," "),value:String(s.entity.attributes[e])})));let b=_t("");vt(()=>{function e(){ct(b,s.entity?.last_changed?ut(s.entity.last_changed):"",!0)}e();const a=setInterval(e,3e4);return()=>clearInterval(a)});const O=n(()=>t(D)&&t(y)!=="sm"),Q=n(()=>t(y)!=="sm"&&t(C)!==null),W=n(()=>t(y)!=="sm"&&t(F)&&!!t(b)),Y=n(()=>(t(y)==="lg"||t(y)==="xl")&&t(S).length>0);var m=Nt();let I;var E=o(m);{var Z=e=>{var a=St();let r;var h=o(a);ht(h,{get name(){return t(G)},get entity(){return s.entity}}),l(a),d(()=>r=P(a,1,"icon-wrap svelte-ksljpn",null,r,{active:t(p)})),v(e,a)};f(E,e=>{t(B)&&e(Z)})}var w=_(E,2),L=o(w);{var $=e=>{var a=It(),r=o(a,!0);l(a),d(()=>u(r,t(H))),v(e,a)};f(L,e=>{t(q)&&e($)})}var T=_(L,2);{var tt=e=>{var a=Et(),r=o(a,!0);l(a),d(()=>u(r,t(J))),v(e,a)};f(T,e=>{t(O)&&e(tt)})}var A=_(T,2);{var et=e=>{var a=Lt(),r=o(a,!0);l(a),d(()=>u(r,t(C))),v(e,a)};f(A,e=>{t(Q)&&e(et)})}var at=_(A,2);{var st=e=>{var a=Tt(),r=o(a,!0);l(a),d(()=>u(r,t(b))),v(e,a)};f(at,e=>{t(W)&&e(st)})}l(w);var nt=_(w,2);{var it=e=>{var a=zt();gt(a,21,()=>t(S),bt,(r,h)=>{var x=At(),j=o(x),rt=o(j,!0);l(j);var z=_(j,2),lt=o(z,!0);l(z),l(x),d(()=>{u(rt,t(h).label),u(lt,t(h).value)}),v(r,x)}),l(a),v(e,a)};f(nt,e=>{t(Y)&&e(it)})}l(m),d(()=>{I=P(m,1,"entity-tile svelte-ksljpn",null,I,{active:t(p),unavailable:t(M)}),jt(m,`--ec: ${t(K)??""};`)}),v(R,m),dt(),X()}export{Dt as default};
