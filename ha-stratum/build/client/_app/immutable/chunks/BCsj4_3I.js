import{b as u,a as P,f as _,d as we}from"./CHLJW1vT.js";import{p as ke,C as be,g as e,e as b,d as r,r as i,c as f,t as x,b as xe,X as t,s as Y}from"./BFobMjM6.js";import{s as y}from"./CbAumXQD.js";import{i as A}from"./DtaZhLEA.js";import{I as ye,e as Te,w as Z,b as Ce}from"./pOHzWP0b.js";import{s as T,f as B,g as $,r as ze,i as He}from"./CoH-M4O8.js";var Me=_('<span class="current-badge svelte-1sa0fwk"> </span>'),Ie=_('<div class="slider-area svelte-1sa0fwk"><div class="slim-track svelte-1sa0fwk"><div class="slim-fill svelte-1sa0fwk"></div> <input type="range" step="0.5" aria-label="Target temperature" class="svelte-1sa0fwk"/></div></div>'),Se=_("<button> </button>"),We=_('<div class="modes svelte-1sa0fwk"></div>'),Ne=_('<div><div class="tile-content svelte-1sa0fwk"><div class="top svelte-1sa0fwk"><div><span><!></span></div> <!></div> <div class="bottom svelte-1sa0fwk"><span class="name-text svelte-1sa0fwk"> </span> <span class="state-text svelte-1sa0fwk"> </span></div></div> <!> <!></div>');function qe(ee,l){ke(l,!0);const te=t(()=>l.tile.config),C=t(()=>l.tile.layout?.w??l.tile.size?.w??1),z=t(()=>l.tile.layout?.h??l.tile.size?.h??1),m=t(()=>e(C)>=4&&e(z)>=3?"xl":e(C)>=3&&e(z)>=2?"lg":e(C)>=2||e(z)>=2?"md":"sm"),p=t(()=>l.entity?.entity_id??l.tile.entity_id??""),X=t(()=>l.entity?.state??"off"),o=t(()=>l.entity?.attributes??{}),ae=t(()=>e(te).name??e(o).friendly_name??"Water Heater"),g=t(()=>e(X)!=="off"),j=t(()=>e(o).temperature??50),q=t(()=>e(o).current_temperature),H=t(()=>e(o).min_temp??30),D=t(()=>e(o).max_temp??80),E=t(()=>e(o).operation_list??[]),se=t(()=>e(o).operation_mode??e(X)),F=t(()=>e(o).temperature_unit??"Â°C"),h=t(()=>e(o).current_operation==="heating");let M=Y(50),w=Y(!1);be(()=>{e(w)||b(M,e(j),!0)});const I=t(()=>e(w)?e(M):e(j)),G=t(()=>Math.max(0,Math.min(100,(e(I)-e(H))/(e(D)-e(H))*100))),ie=t(()=>e(h)?"var(--color-warning)":e(g)?"var(--color-info)":"var(--fg-muted)"),ne=t(()=>e(q)!==void 0&&e(m)!=="sm"),re=t(()=>e(g)&&e(m)!=="sm"),le=t(()=>(e(m)==="lg"||e(m)==="xl")&&e(E).length>0&&e(g));function oe(a){b(w,!0),b(M,Number(a.target.value),!0)}function ve(a){b(w,!1);const s=Number(a.target.value);e(p)&&Z.setTemperature(e(p),s)}var v=Ne();let J;var S=r(v),W=r(S),k=r(W);let K;var N=r(k);let L;var ce=r(N);ye(ce,{name:"flame",size:32}),i(N),i(k);var de=f(k,2);{var fe=a=>{var s=Me(),c=r(s);i(s),x(()=>y(c,`${e(q)??""}${e(F)??""}`)),u(a,s)};A(de,a=>{e(ne)&&a(fe)})}i(W);var Q=f(W,2),O=r(Q),me=r(O,!0);i(O);var R=f(O,2),ue=r(R);i(R),i(Q),i(S);var U=f(S,2);{var _e=a=>{var s=Ie(),c=r(s),d=r(c),n=f(d,2);ze(n),i(c),i(s),x(()=>{$(d,`width:${e(G)??""}%`),B(n,"min",e(H)),B(n,"max",e(D)),He(n,e(I))}),P("input",n,oe),P("change",n,ve),u(a,s)};A(U,a=>{e(re)&&a(_e)})}var pe=f(U,2);{var ge=a=>{var s=We();Te(s,21,()=>e(E),Ce,(c,d)=>{var n=Se();let V;var he=r(n,!0);i(n),x(()=>{V=T(n,1,"mode-chip svelte-1sa0fwk",null,V,{active:e(se)===e(d)}),y(he,e(d))}),P("click",n,()=>e(p)&&Z.setOperationMode(e(p),e(d))),u(c,n)}),i(s),u(a,s)};A(pe,a=>{e(le)&&a(ge)})}i(v),x(()=>{J=T(v,1,"wh-tile svelte-1sa0fwk",null,J,{on:e(g),heating:e(h)}),B(v,"data-size",e(m)),$(v,`--hc: ${e(ie)??""}; --fp: ${e(G)??""}%;`),K=T(k,1,"flame-icon svelte-1sa0fwk",null,K,{heating:e(h)}),L=T(N,1,"svelte-1sa0fwk",null,L,{pulse:e(h)}),y(me,e(ae)),y(ue,`${e(I)??""}${e(F)??""}`)}),u(ee,v),xe()}we(["input","change","click"]);export{qe as default};
