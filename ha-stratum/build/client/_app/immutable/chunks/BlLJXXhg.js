import{b as f,a as et,f as m,d as at}from"./CHLJW1vT.js";import{p as st,d as o,g as t,r as l,c as h,t as C,b as ot,X as e,s as lt,e as x}from"./BFobMjM6.js";import{s as J}from"./CbAumXQD.js";import{i as S}from"./DtaZhLEA.js";import{s as A,f as H,g as nt}from"./CoH-M4O8.js";import{I as ct,n as P}from"./pOHzWP0b.js";var it=m('<span class="svelte-cv4qf7">Tap again to unlock</span>'),rt=m('<span class="svelte-cv4qf7">Unlock</span>'),vt=m('<span class="svelte-cv4qf7">Lock</span>'),dt=m("<button><!></button>"),ft=m('<div><div class="tile-content svelte-cv4qf7"><div class="top svelte-cv4qf7"><div class="icon-wrap svelte-cv4qf7"><!></div></div> <div class="bottom svelte-cv4qf7"><span class="name-text svelte-cv4qf7"> </span> <span class="state-text svelte-cv4qf7"> </span></div></div>  <!></div>');function bt(W,a){st(a,!0);const _=e(()=>a.tile.layout?.w??a.tile.size?.w??1),k=e(()=>a.tile.layout?.h??a.tile.size?.h??1),L=e(()=>t(_)>=4&&t(k)>=3?"xl":t(_)>=3&&t(k)>=2?"lg":t(_)>=2||t(k)>=2?"md":"sm"),X=e(()=>a.tile.config),g=e(()=>a.entity?.entity_id??a.tile.entity_id??""),u=e(()=>a.entity?.state??"unknown"),B=e(()=>a.entity?.attributes??{}),D=e(()=>t(X).name??t(B).friendly_name??"Lock"),n=e(()=>t(u)==="locked"),E=e(()=>t(u)==="unlocked"),p=e(()=>t(u)==="jammed"),F=e(()=>t(p)?"var(--color-danger)":t(n)?"var(--color-on)":"var(--color-warning)"),G=e(()=>t(n)?"Locked":t(p)?"Jammed!":t(E)?"Unlocked":t(u)),K=e(()=>t(L)!=="sm");let c=lt(!1),w;function M(){if(t(g))if(t(n)){if(!t(c)){x(c,!0),w=setTimeout(()=>{x(c,!1)},3e3);return}clearTimeout(w),x(c,!1),P.unlock(t(g))}else P.lock(t(g))}var i=ft();let T;var b=o(i),y=o(b),z=o(y),N=o(z);{let v=e(()=>t(n)?"lock":"lock-open");ct(N,{get name(){return t(v)}})}l(z),l(y);var U=h(y,2),q=o(U),O=o(q,!0);l(q);var I=h(q,2),Q=o(I,!0);l(I),l(U),l(b);var R=h(b,2);{var V=v=>{var r=dt();let j;var Y=o(r);{var Z=s=>{var d=it();f(s,d)},$=s=>{var d=rt();f(s,d)},tt=s=>{var d=vt();f(s,d)};S(Y,s=>{t(c)?s(Z):t(n)?s($,1):s(tt,!1)})}l(r),C(()=>{j=A(r,1,"action-btn svelte-cv4qf7",null,j,{confirming:t(c)}),H(r,"aria-label",t(c)?"Confirm unlock":t(n)?"Unlock":"Lock")}),et("click",r,M),f(v,r)};S(R,v=>{t(K)&&v(V)})}l(i),C(()=>{T=A(i,1,"lock-tile svelte-cv4qf7",null,T,{locked:t(n),jammed:t(p)}),H(i,"data-size",t(L)),nt(i,`--lc: ${t(F)??""};`),J(O,t(D)),J(Q,t(G))}),f(W,i),ot()}at(["click"]);export{bt as default};
