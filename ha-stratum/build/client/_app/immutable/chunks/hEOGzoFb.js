import{b as n,e as j,r as N,f as v}from"./CHLJW1vT.js";import{p as P,C as T,g as t,e as c,d as _,c as U,r as h,t as b,b as X,X as i,s as k}from"./BFobMjM6.js";import{s as q}from"./CbAumXQD.js";import{i as p}from"./DtaZhLEA.js";import{f as w,g as A,s as D}from"./CoH-M4O8.js";var G=v("<img/>"),J=v('<div class="placeholder svelte-1gly55b"><svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><rect x="3" y="3" width="18" height="18" rx="2"></rect><path d="m21 15-5-5L5 21"></path><circle cx="9" cy="9" r="2"></circle></svg></div>'),K=v('<div class="overlay svelte-1gly55b"><span class="overlay-name svelte-1gly55b"> </span></div>'),M=v('<div class="image-tile svelte-1gly55b"><!> <!></div>');function Y(C,a){P(a,!0);const r=i(()=>a.tile.config),f=i(()=>a.tile.layout?.w??a.tile.size?.w??1),d=i(()=>a.tile.layout?.h??a.tile.size?.h??1),x=i(()=>t(f)>=4&&t(d)>=3?"xl":t(f)>=3&&t(d)>=2?"lg":t(f)>=2||t(d)>=2?"md":"sm"),m=i(()=>t(r).name??a.entity?.attributes?.friendly_name??"Image"),I=i(()=>t(r).show_name!==!1),W=i(()=>t(r).object_fit??"cover"),u=i(()=>t(r).url?t(r).url:a.entity?.attributes?.entity_picture?a.entity.attributes.entity_picture:a.entity?.state?.startsWith("http")?a.entity.state:"");let g=k(!1),y=k(!1);T(()=>{t(u),c(g,!1),c(y,!1)});var o=M(),z=_(o);{var B=s=>{var e=G();let l;b(()=>{w(e,"src",t(u)),w(e,"alt",t(m)),A(e,`object-fit:${t(W)??""}`),l=D(e,1,"svelte-1gly55b",null,l,{loaded:t(g)})}),j("load",e,()=>{c(g,!0)}),j("error",e,()=>{c(y,!0)}),N(e),n(s,e)},E=s=>{var e=J();n(s,e)};p(z,s=>{t(u)&&!t(y)?s(B):s(E,!1)})}var F=U(z,2);{var H=s=>{var e=K(),l=_(e),L=_(l,!0);h(l),h(e),b(()=>q(L,t(m))),n(s,e)};p(F,s=>{t(I)&&t(m)&&t(x)!=="sm"&&s(H)})}h(o),b(()=>w(o,"data-size",t(x))),n(C,o),X()}export{Y as default};
