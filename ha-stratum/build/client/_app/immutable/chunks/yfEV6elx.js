import{b as q,a as b,f as H,d as de}from"./CHLJW1vT.js";import{p as ue,d as a,g as e,r as n,c as u,t as D,b as he,X as t,e as y,s as X}from"./BFobMjM6.js";import{s as j}from"./CbAumXQD.js";import{i as A}from"./DtaZhLEA.js";import{s as B,f as be,g as me,r as _e,i as fe}from"./CoH-M4O8.js";import{I as w,m as C}from"./pOHzWP0b.js";var pe=H('<div class="ctrl-row svelte-1hcrhbt"><button class="ctrl svelte-1hcrhbt" aria-label="Open"><!></button> <button class="ctrl stop svelte-1hcrhbt" aria-label="Stop"><!></button> <button class="ctrl svelte-1hcrhbt" aria-label="Close"><!></button></div>'),ge=H('<div class="pos-slider svelte-1hcrhbt"><input type="range" min="0" max="100" aria-label="Position" class="svelte-1hcrhbt"/></div>'),ye=H('<div><div class="tile-content svelte-1hcrhbt"><div class="top svelte-1hcrhbt"><div><!></div> <!></div> <div class="bottom svelte-1hcrhbt"><span class="name-text svelte-1hcrhbt"> </span> <span class="state-text svelte-1hcrhbt"> </span></div></div> <!></div>');function Pe(E,o){ue(o,!0);const x=t(()=>o.tile.layout?.w??o.tile.size?.w??1),k=t(()=>o.tile.layout?.h??o.tile.size?.h??1),m=t(()=>e(x)>=4&&e(k)>=3?"xl":e(x)>=3&&e(k)>=2?"lg":e(x)>=2||e(k)>=2?"md":"sm"),F=t(()=>o.tile.config),c=t(()=>o.entity?.entity_id??o.tile.entity_id??""),i=t(()=>o.entity?.state??"unknown"),S=t(()=>o.entity?.attributes??{}),G=t(()=>e(F).name??e(S).friendly_name??"Cover"),h=t(()=>e(S).current_position),_=t(()=>e(S).device_class??"blind"),v=t(()=>e(i)==="open"),J=t(()=>e(i)==="closed"),K=t(()=>e(i)==="opening"||e(i)==="closing");function Q(){return e(_)==="door"?e(v)?"door-open":"door-closed":e(_)==="garage"?e(v)?"car":"warehouse":e(_)==="window"?"app-window":e(_)==="curtain"?"columns":e(v)?"chevrons-up":"chevrons-down"}const R=t(()=>e(i)==="open"?e(h)!==void 0?e(h)+"%":"Open":e(i)==="closed"?"Closed":e(i)==="opening"?"Opening…":e(i)==="closing"?"Closing…":e(i)),U=t(()=>e(v)?"var(--color-on)":e(K)?"var(--color-warning)":"var(--fg-muted)"),V=t(()=>e(m)!=="sm"),Y=t(()=>(e(m)==="lg"||e(m)==="xl")&&e(h)!==void 0);let O=X(null),P=X(!1);const Z=t(()=>e(P)?e(O):e(h)??null);function $(s){y(P,!0),y(O,Number(s.target.value),!0)}function ee(s){y(P,!1);const l=Number(s.target.value);y(O,null),e(c)&&C.setPosition(e(c),l)}var d=ye();let L;var z=a(d),I=a(z),f=a(I);let M;var te=a(f);{let s=t(Q);w(te,{get name(){return e(s)}})}n(f);var se=u(f,2);{var ae=s=>{var l=pe(),r=a(l),le=a(r);w(le,{name:"chevron-up"}),n(r);var p=u(r,2),ce=a(p);w(ce,{name:"square"}),n(p);var g=u(p,2),ve=a(g);w(ve,{name:"chevron-down"}),n(g),n(l),D(()=>{r.disabled=e(v),g.disabled=e(J)}),b("click",r,()=>e(c)&&C.open(e(c))),b("click",p,()=>e(c)&&C.stop(e(c))),b("click",g,()=>e(c)&&C.close(e(c))),q(s,l)};A(se,s=>{e(V)&&s(ae)})}n(I);var T=u(I,2),N=a(T),ne=a(N,!0);n(N);var W=u(N,2),oe=a(W,!0);n(W),n(T),n(z);var re=u(z,2);{var ie=s=>{var l=ge(),r=a(l);_e(r),n(l),D(()=>fe(r,e(Z)??e(h))),b("input",r,$),b("change",r,ee),q(s,l)};A(re,s=>{e(Y)&&s(ie)})}n(d),D(()=>{L=B(d,1,"cover-tile svelte-1hcrhbt",null,L,{open:e(v)}),be(d,"data-size",e(m)),me(d,`--cc: ${e(U)??""};`),M=B(f,1,"icon-badge svelte-1hcrhbt",null,M,{open:e(v)}),j(ne,e(G)),j(oe,e(R))}),q(E,d),he()}de(["click","input","change"]);export{Pe as default};
