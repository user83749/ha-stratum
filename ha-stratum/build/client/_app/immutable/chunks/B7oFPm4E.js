import{b as u,a as v,f as k,d as La}from"./CHLJW1vT.js";import{p as Va,d as t,g as a,r as e,c as s,t as A,b as Xa,X as i,s as fa,e as l,Y as ga,n as V}from"./BFobMjM6.js";import{s as R}from"./CbAumXQD.js";import{i as S}from"./DtaZhLEA.js";import{I as y,e as ha,b as ya,t as X}from"./pOHzWP0b.js";import{s as wa,f as Aa,g as Ya}from"./CoH-M4O8.js";var ja=k('<button class="ap__btn svelte-3ker3d" aria-label="Arm home"><!> Home</button> <button class="ap__btn svelte-3ker3d" aria-label="Arm away"><!> Away</button> <button class="ap__btn svelte-3ker3d" aria-label="Arm night"><!> Night</button>',1),qa=k('<button class="ap__btn ap__btn--disarm svelte-3ker3d" aria-label="Disarm"><!> Disarm</button>'),Fa=k('<div class="ap__actions svelte-3ker3d"><!></div>'),Ja=k("<div></div>"),Ma=k('<button class="ap__key svelte-3ker3d"> </button>'),Oa=k('<button class="ap__kbtn svelte-3ker3d">Home</button> <button class="ap__kbtn svelte-3ker3d">Away</button> <button class="ap__kbtn svelte-3ker3d">Night</button>',1),Qa=k('<button class="ap__kbtn ap__kbtn--danger svelte-3ker3d">Disarm</button>'),Ua=k('<div class="ap__key-actions svelte-3ker3d"><!></div>'),Za=k('<button class="ap__cancel svelte-3ker3d">Cancel</button>'),$a=k('<div class="ap__keypad svelte-3ker3d"><div class="ap__code-display svelte-3ker3d"></div> <div class="ap__grid svelte-3ker3d"><!> <button class="ap__key ap__key--sym svelte-3ker3d" aria-label="Backspace"><!></button> <button class="ap__key svelte-3ker3d" aria-label="0">0</button> <button class="ap__key ap__key--ok svelte-3ker3d" aria-label="Confirm"><!></button></div> <!></div>'),ae=k('<div><div class="ap__micro svelte-3ker3d"><div class="ap__micro-icon svelte-3ker3d"><!></div></div> <div class="ap__compact svelte-3ker3d"><div class="ap__icon-wrap svelte-3ker3d"><!></div> <div class="ap__col svelte-3ker3d"><span class="ap__name svelte-3ker3d"> </span> <span class="ap__state svelte-3ker3d"> </span></div></div> <div class="ap__standard svelte-3ker3d"><div class="ap__header svelte-3ker3d"><div class="ap__icon-wrap svelte-3ker3d"><!></div> <span class="ap__name svelte-3ker3d"> </span></div> <div class="ap__hero svelte-3ker3d"><span class="ap__hero-text svelte-3ker3d"> </span></div> <!> <!></div></div>');function le(xa,c){Va(c,!0);const Y=i(()=>c.tile.layout?.w??c.tile.size?.w??1),j=i(()=>c.tile.layout?.h??c.tile.size?.h??1),W=i(()=>a(Y)>=4&&a(j)>=3?"xl":a(Y)>=3&&a(j)>=2?"lg":a(Y)>=2||a(j)>=2?"md":"sm"),P=i(()=>c.entity?.entity_id??""),h=i(()=>c.entity?.state??"unknown"),ra=i(()=>c.tile.config.name??c.entity?.attributes.friendly_name??"Alarm"),ia=i(()=>a(h).startsWith("armed")),na=i(()=>a(h)==="disarmed"),B=i(()=>a(h)==="triggered"),q=i(()=>a(h)==="pending"||a(h)==="arming"),w=i(()=>a(h)==="unavailable"||a(h)==="unknown"),Da=i(()=>a(B)?"var(--color-danger)":a(q)?"var(--color-warning)":a(ia)?"var(--color-on)":"var(--fg-subtle)"),F=i(()=>a(B)?"siren":a(ia)?"shield-check":a(q)?"shield-alert":"shield-off"),la=i(()=>({disarmed:"Disarmed",armed_home:"Home",armed_away:"Away",armed_night:"Night",armed_vacation:"Vacation",armed_custom_bypass:"Custom",pending:"Pending",arming:"Arming",triggered:"TRIGGERED"})[a(h)]??a(h).replace(/_/g," ")),Ha=i(()=>a(W)!=="sm"),Ia=i(()=>(a(W)==="lg"||a(W)==="xl")&&c.tile.config.show_keypad!==!1);let n=fa(""),d=fa(null);function T(r){if(!(!a(P)||!r))if(a(n)||c.tile.config.show_keypad===!1){const _=a(n)||void 0;r==="disarm"&&X.disarm(a(P),_),r==="arm_home"&&X.armHome(a(P),_),r==="arm_away"&&X.armAway(a(P),_),r==="arm_night"&&X.armNight(a(P),_),l(n,""),l(d,null)}else l(d,r,!0)}function da(r){a(n).length<8&&l(n,a(n)+r)}function za(){l(n,a(n).slice(0,-1),!0)}function Ca(){a(d)&&T(a(d))}var D=ae();let va;var J=t(D),_a=t(J),Na=t(_a);y(Na,{get name(){return a(F)}}),e(_a),e(J);var M=s(J,2),O=t(M),Pa=t(O);y(Pa,{get name(){return a(F)}}),e(O);var oa=s(O,2),Q=t(oa),Ta=t(Q,!0);e(Q);var ca=s(Q,2),Ea=t(ca,!0);e(ca),e(oa),e(M);var ma=s(M,2),U=t(ma),Z=t(U),Ga=t(Z);y(Ga,{get name(){return a(F)}}),e(Z);var ba=s(Z,2),Ra=t(ba,!0);e(ba),e(U);var $=s(U,2),ua=t($),Sa=t(ua,!0);e(ua),e($);var ka=s($,2);{var Wa=r=>{var _=Fa(),E=t(_);{var G=o=>{var p=ja(),m=ga(p),H=t(m);y(H,{name:"house"}),V(),e(m);var x=s(m,2),aa=t(x);y(aa,{name:"plane"}),V(),e(x);var I=s(x,2),ea=t(I);y(ea,{name:"moon"}),V(),e(I),A(()=>{m.disabled=a(w),x.disabled=a(w),I.disabled=a(w)}),v("click",m,()=>T("arm_home")),v("click",x,()=>T("arm_away")),v("click",I,()=>T("arm_night")),u(o,p)},K=o=>{var p=qa(),m=t(p);y(m,{name:"shield-off"}),V(),e(p),A(()=>p.disabled=a(w)||a(B)),v("click",p,()=>T("disarm")),u(o,p)};S(E,o=>{a(na)?o(G):o(K,!1)})}e(_),u(r,_)};S(ka,r=>{a(Ha)&&r(Wa)})}var Ba=s(ka,2);{var Ka=r=>{var _=$a(),E=t(_);ha(E,20,()=>({length:8}),ya,(f,b,g)=>{var z=Ja();let L;A(()=>L=wa(z,1,"ap__dot svelte-3ker3d",null,L,{"ap__dot--filled":g<a(n).length})),u(f,z)}),e(E);var G=s(E,2),K=t(G);ha(K,16,()=>["1","2","3","4","5","6","7","8","9"],ya,(f,b)=>{var g=Ma(),z=t(g,!0);e(g),A(()=>{g.disabled=!a(d),Aa(g,"aria-label",b),R(z,b)}),v("click",g,()=>da(b)),u(f,g)});var o=s(K,2),p=t(o);y(p,{name:"delete"}),e(o);var m=s(o,2),H=s(m,2),x=t(H);y(x,{name:"check"}),e(H),e(G);var aa=s(G,2);{var I=f=>{var b=Ua(),g=t(b);{var z=C=>{var N=Oa(),ta=ga(N),sa=s(ta,2),pa=s(sa,2);A(()=>{ta.disabled=a(w),sa.disabled=a(w),pa.disabled=a(w)}),v("click",ta,()=>{l(n,""),l(d,"arm_home")}),v("click",sa,()=>{l(n,""),l(d,"arm_away")}),v("click",pa,()=>{l(n,""),l(d,"arm_night")}),u(C,N)},L=C=>{var N=Qa();A(()=>N.disabled=a(w)),v("click",N,()=>{l(n,""),l(d,"disarm")}),u(C,N)};S(g,C=>{a(na)?C(z):C(L,!1)})}e(b),u(f,b)},ea=f=>{var b=Za();v("click",b,()=>{l(n,""),l(d,null)}),u(f,b)};S(aa,f=>{a(d)?f(ea,!1):f(I)})}e(_),A(()=>{o.disabled=!a(d),m.disabled=!a(d),H.disabled=!a(d)||!a(n)}),v("click",o,za),v("click",m,()=>da("0")),v("click",H,Ca),u(r,_)};S(Ba,r=>{a(Ia)&&r(Ka)})}e(ma),e(D),A(()=>{va=wa(D,1,"ap svelte-3ker3d",null,va,{"ap--triggered":a(B),"ap--pending":a(q)}),Aa(D,"data-size",a(W)),Ya(D,`--c:${a(Da)??""}`),R(Ta,a(ra)),R(Ea,a(la)),R(Ra,a(ra)),R(Sa,a(la))}),u(xa,D),Xa()}La(["click"]);export{le as default};
