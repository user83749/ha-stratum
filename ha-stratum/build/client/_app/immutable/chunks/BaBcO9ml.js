import{a as X,b as x,f as T,d as V}from"./CHLJW1vT.js";import{p as Y,d as n,r as a,c as p,g as t,t as q,b as Z,X as e}from"./BFobMjM6.js";import{s as z}from"./CbAumXQD.js";import{i as $}from"./DtaZhLEA.js";import{I as tt,s as S,e as et,b as st}from"./pOHzWP0b.js";import{s as c,f as A}from"./CoH-M4O8.js";var at=T("<button> </button>"),nt=T('<div class="tones svelte-ryjw2j"></div>'),it=T('<div><div class="tile-content svelte-ryjw2j"><div class="top svelte-ryjw2j"><button><span><!></span></button></div> <div class="bottom svelte-ryjw2j"><span class="name-text svelte-ryjw2j"> </span> <span class="state-text svelte-ryjw2j"> </span></div></div> <!></div>');function ut(B,s){Y(s,!0);const D=e(()=>s.tile.config),d=e(()=>s.tile.layout?.w??s.tile.size?.w??1),u=e(()=>s.tile.layout?.h??s.tile.size?.h??1),_=e(()=>t(d)>=4&&t(u)>=3?"xl":t(d)>=3&&t(u)>=2?"lg":t(d)>=2||t(u)>=2?"md":"sm"),l=e(()=>s.entity?.entity_id??s.tile.entity_id??""),i=e(()=>s.entity?.state==="on"),f=e(()=>s.entity?.attributes??{}),E=e(()=>t(D).name??t(f).friendly_name??"Siren"),k=e(()=>t(f).available_tones??[]),F=e(()=>t(f).tone??""),G=e(()=>(t(_)==="lg"||t(_)==="xl")&&t(k).length>0&&t(i));function J(){t(l)&&(t(i)?S.turnOff(t(l)):S.turnOn(t(l)))}var r=it();let O;var m=n(r),y=n(m),o=n(y);let I;var j=n(o);let C;var K=n(j);tt(K,{name:"siren",size:32}),a(j),a(o),a(y);var H=p(y,2),b=n(H),L=n(b,!0);a(b);var P=p(b,2),M=n(P,!0);a(P),a(H),a(m);var N=p(m,2);{var Q=g=>{var w=nt();et(w,21,()=>t(k).slice(0,4),st,(R,h)=>{var v=at();let W;var U=n(v,!0);a(v),q(()=>{W=c(v,1,"tone-chip svelte-ryjw2j",null,W,{active:t(F)===t(h)}),z(U,t(h))}),X("click",v,()=>t(l)&&S.turnOn(t(l),t(h))),x(R,v)}),a(w),x(g,w)};$(N,g=>{t(G)&&g(Q)})}a(r),q(()=>{O=c(r,1,"siren-tile svelte-ryjw2j",null,O,{on:t(i)}),A(r,"data-size",t(_)),I=c(o,1,"siren-btn svelte-ryjw2j",null,I,{on:t(i)}),A(o,"aria-label",t(i)?"Turn off":"Turn on"),C=c(j,1,"svelte-ryjw2j",null,C,{pulse:t(i)}),z(L,t(E)),z(M,t(i)?"Sounding":"Silent")}),X("click",o,J),x(B,r),Z()}V(["click"]);export{ut as default};
