import{b as m,f as u}from"./CHLJW1vT.js";import{p as K,d as v,g as e,c as _,r as d,t as g,b as O,X as i}from"./BFobMjM6.js";import{s as h}from"./CbAumXQD.js";import{i as p}from"./DtaZhLEA.js";import{f as Q}from"./CoH-M4O8.js";import{I as R}from"./pOHzWP0b.js";var U=u('<div class="top svelte-11lwzog"><div class="icon-sq svelte-11lwzog"><!></div> <span class="title svelte-11lwzog"> </span></div>'),V=u('<span class="event-name svelte-11lwzog"> </span>'),Y=u('<span class="event-time svelte-11lwzog"> </span>'),Z=u('<span class="event-time svelte-11lwzog">All day</span>'),$=u('<div class="event-card svelte-11lwzog"><div class="event-bar svelte-11lwzog"></div> <div class="event-body svelte-11lwzog"><span class="event-rel svelte-11lwzog"> </span> <!> <!></div></div>'),ee=u('<div class="empty svelte-11lwzog">No upcoming events</div>'),te=u('<div class="cal-tile svelte-11lwzog"><!> <!></div>');function le(I,n){K(n,!0);const L=i(()=>n.tile.config),y=i(()=>n.tile.layout?.w??n.tile.size?.w??1),b=i(()=>n.tile.layout?.h??n.tile.size?.h??1),f=i(()=>e(y)>=4&&e(b)>=3?"xl":e(y)>=3&&e(b)>=2?"lg":e(y)>=2||e(b)>=2?"md":"sm"),N=i(()=>e(L).name??n.entity?.attributes?.friendly_name??"Calendar"),M=i(()=>n.entity?.attributes?.message??""),T=i(()=>n.entity?.attributes?.start_time??""),D=i(()=>n.entity?.attributes?.all_day??!1),k=i(()=>e(f)!=="sm"),C=i(()=>e(f)!=="sm"),q=i(()=>e(f)==="lg"||e(f)==="xl");function A(t){if(!t)return"";const s=new Date(t),c=new Date,r=Math.round((s.getTime()-c.getTime())/6e4);if(r<0)return"Now";if(r<60)return`in ${r}m`;const o=Math.round(r/60);return o<24?`in ${o}h`:Math.round(o/24)===1?"Tomorrow":`in ${Math.round(o/24)}d`}function E(t){return t?new Date(t).toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}):""}var w=te(),H=v(w);{var P=t=>{var s=U(),c=v(s),r=v(c);R(r,{name:"calendar"}),d(c);var o=_(c,2),z=v(o,!0);d(o),d(s),g(()=>h(z,e(N))),m(t,s)};p(H,t=>{e(k)&&t(P)})}var S=_(H,2);{var W=t=>{var s=$(),c=_(v(s),2),r=v(c),o=v(r,!0);d(r);var z=_(r,2);{var j=a=>{var l=V(),x=v(l,!0);d(l),g(()=>h(x,e(M))),m(a,l)};p(z,a=>{e(q)&&a(j)})}var B=_(z,2);{var F=a=>{var l=Y(),x=v(l,!0);d(l),g(J=>h(x,J),[()=>E(e(T))]),m(a,l)},G=a=>{var l=Z();m(a,l)};p(B,a=>{e(C)&&!e(D)&&e(T)?a(F):e(C)&&e(D)&&a(G,1)})}d(c),d(s),g(a=>h(o,a),[()=>A(e(T))]),m(t,s)},X=t=>{var s=ee();m(t,s)};p(S,t=>{e(M)?t(W):t(X,!1)})}d(w),g(()=>Q(w,"data-size",e(f))),m(I,w),O()}export{le as default};
