import{a as k,b as c,f as _,d as ie}from"./CHLJW1vT.js";import{p as le,d as n,r as s,c as r,g as e,t as q,e as E,b as oe,X as i,s as de}from"./BFobMjM6.js";import{s as h}from"./CbAumXQD.js";import{i as g}from"./DtaZhLEA.js";import{I as x,e as re,b as ve,z as ce,A as _e}from"./pOHzWP0b.js";import{f as F,s as ue}from"./CoH-M4O8.js";var pe=_('<button class="arrow-btn svelte-1pk4dde" aria-label="Previous"><!></button>'),fe=_('<button class="arrow-btn svelte-1pk4dde" aria-label="Next"><!></button>'),me=_('<div class="options-meta svelte-1pk4dde"> </div>'),be=_("<button> </button>"),ke=_('<div class="dropdown svelte-1pk4dde"></div>'),he=_('<div class="is-tile svelte-1pk4dde"><div class="tile-content svelte-1pk4dde"><div class="top svelte-1pk4dde"><div class="icon-sq svelte-1pk4dde"><!></div></div> <div class="bottom svelte-1pk4dde"><span class="val-hero svelte-1pk4dde"> </span> <span class="name-small svelte-1pk4dde"> </span></div></div> <div class="select-row svelte-1pk4dde"><!> <button class="open-btn svelte-1pk4dde" aria-label="Open options"><!></button> <!></div> <!> <!></div>');function Oe(G,l){le(l,!0);const J=i(()=>l.tile.config),y=i(()=>l.tile.layout?.w??l.tile.size?.w??1),w=i(()=>l.tile.layout?.h??l.tile.size?.h??1),f=i(()=>e(y)>=4&&e(w)>=3?"xl":e(y)>=3&&e(w)>=2?"lg":e(y)>=2||e(w)>=2?"md":"sm"),m=i(()=>l.entity?.entity_id??l.tile.entity_id??""),K=i(()=>e(m).split(".")[0]??"input_select"),S=i(()=>l.entity?.state??""),C=i(()=>l.entity?.attributes??{}),L=i(()=>e(J).name??e(C).friendly_name??"Select"),d=i(()=>e(C).options??[]),H=i(()=>e(f)!=="sm"),Q=i(()=>e(f)==="lg"||e(f)==="xl");let v=de(!1);function M(t){E(v,!1),e(m)&&(e(K)==="select"?ce.selectOption(e(m),t):_e.selectOption(e(m),t))}function N(t){const a=e(d).indexOf(e(S)),o=e(d)[(a+t+e(d).length)%e(d).length];o&&M(o)}var b=he(),z=n(b),O=n(z),T=n(O),R=n(T);x(R,{name:"list"}),s(T),s(O);var W=r(O,2),I=n(W),U=n(I,!0);s(I);var X=r(I,2),V=n(X,!0);s(X),s(W),s(z);var A=r(z,2),j=n(A);{var Y=t=>{var a=pe(),o=n(a);x(o,{name:"chevron-left"}),s(a),k("click",a,()=>N(-1)),c(t,a)};g(j,t=>{e(H)&&t(Y)})}var u=r(j,2),Z=n(u);{let t=i(()=>e(v)?"chevron-up":"chevron-down");x(Z,{get name(){return e(t)}})}s(u);var $=r(u,2);{var ee=t=>{var a=fe(),o=n(a);x(o,{name:"chevron-right"}),s(a),k("click",a,()=>N(1)),c(t,a)};g($,t=>{e(H)&&t(ee)})}s(A);var B=r(A,2);{var te=t=>{var a=me(),o=n(a);s(a),q(()=>h(o,`${e(d).length??""} option${e(d).length===1?"":"s"}`)),c(t,a)};g(B,t=>{e(Q)&&t(te)})}var ae=r(B,2);{var se=t=>{var a=ke();re(a,21,()=>e(d),ve,(o,P)=>{var p=be();let D;var ne=n(p,!0);s(p),q(()=>{D=ue(p,1,"opt svelte-1pk4dde",null,D,{selected:e(P)===e(S)}),h(ne,e(P))}),k("click",p,()=>M(e(P))),c(o,p)}),s(a),c(t,a)};g(ae,t=>{e(v)&&t(se)})}s(b),q(()=>{F(b,"data-size",e(f)),h(U,e(S)||"â€”"),h(V,e(L)),F(u,"aria-expanded",e(v))}),k("click",u,()=>{E(v,!e(v))}),c(G,b),oe()}ie(["click"]);export{Oe as default};
