import{b,a as w,f as j,d as Je}from"./CHLJW1vT.js";import{p as Ke,d as t,g as e,r as a,t as h,b as Qe,X as n,c as v,s as He,Y as Ue,e as te}from"./BFobMjM6.js";import{s as _}from"./CbAumXQD.js";import{i as B}from"./DtaZhLEA.js";import{I as O,p as re,k as Ze,e as ea,b as aa}from"./pOHzWP0b.js";import{s as se,g as s,r as ta,f as ze,i as ra}from"./CoH-M4O8.js";var sa=j('<div class="primary-hum svelte-pnj3re"> </div>'),va=j('<div class="primary-hum svelte-pnj3re"> </div>'),na=j('<span class="sep svelte-pnj3re">â€¢</span> <span class="target-val svelte-pnj3re"> </span>',1),ia=j('<button class="layout-sm svelte-pnj3re"><div class="sm-icon svelte-pnj3re"><!></div> <!> <div class="sm-meta svelte-pnj3re"><span class="meta-label svelte-pnj3re"> </span> <!></div></button>'),la=j('<span class="target svelte-pnj3re"> </span>'),oa=j('<div class="md-controls svelte-pnj3re"><button class="adj-btn svelte-pnj3re" aria-label="Lower humidity"><!></button> <button class="adj-btn svelte-pnj3re" aria-label="Raise humidity"><!></button></div>'),ca=j('<div class="layout-md svelte-pnj3re"><button class="md-left svelte-pnj3re" aria-label="Toggle Power"><div class="md-icon svelte-pnj3re"><!></div> <div class="md-status svelte-pnj3re"><div class="status-val svelte-pnj3re"> </div> <div class="device-name svelte-pnj3re"> </div></div></button> <div class="md-right svelte-pnj3re"><div class="md-hum svelte-pnj3re"><span class="val svelte-pnj3re"> </span> <!></div> <!></div></div>'),da=j('<div class="stat svelte-pnj3re"><!> <span> </span></div>'),ua=j('<input type="range" step="1" class="svelte-pnj3re"/>'),ma=j("<button><span> </span></button>"),pa=j('<div class="mode-switcher svelte-pnj3re"></div>'),_a=j('<div><div class="lg-top svelte-pnj3re"><div class="lg-hero svelte-pnj3re"><div class="lg-icon-box svelte-pnj3re"><!></div> <div class="lg-hero-text svelte-pnj3re"><div class="lg-mode svelte-pnj3re"> </div> <div class="lg-name svelte-pnj3re"> </div></div></div> <div class="lg-stats svelte-pnj3re"><!> <button><!></button></div></div> <div class="lg-main svelte-pnj3re"><div class="hum-display svelte-pnj3re"><div class="current-hero"><div class="slider-container svelte-pnj3re"><svg viewBox="0 0 200 200" class="circular-slider svelte-pnj3re"><circle class="bg svelte-pnj3re" cx="100" cy="100" r="85"></circle><circle class="fg svelte-pnj3re" cx="100" cy="100" r="85"></circle></svg> <div class="center-text svelte-pnj3re"><span class="num svelte-pnj3re"> </span> <span class="lbl svelte-pnj3re">TARGET</span></div> <!></div></div> <div class="target-control svelte-pnj3re"><button class="adj-btn-large svelte-pnj3re"><!></button> <div class="val-display svelte-pnj3re"><span class="sub svelte-pnj3re">Humidity</span> <span class="main svelte-pnj3re"> </span></div> <button class="adj-btn-large svelte-pnj3re"><!></button></div></div></div> <!></div>'),ga=j("<div><!></div>");function ka(we,x){Ke(x,!0);const Me=n(()=>x.tile.config),ve=n(()=>x.tile.layout?.w??x.tile.size?.w??1),ne=n(()=>x.tile.layout?.h??x.tile.size?.h??1),W=n(()=>e(ve)>=4&&e(ne)>=3?"xl":e(ve)>=3&&e(ne)>=2?"lg":e(ve)>=2||e(ne)>=2?"md":"sm"),T=n(()=>x.entity?.entity_id??x.tile.entity_id??""),E=n(()=>x.entity?.attributes??{}),be=n(()=>e(Me).name??e(E).friendly_name??"Humidifier"),r=n(()=>x.entity?.state==="on"),G=n(()=>e(E).humidity??50),L=n(()=>e(E).current_humidity),K=n(()=>e(E).min_humidity??0),ie=n(()=>e(E).max_humidity??100),je=n(()=>e(E).available_modes??[]),le=n(()=>e(E).mode??""),Oe=n(()=>!e(r)),Te=n(()=>x.entity?.state==="unavailable"||x.entity?.state==="unknown");let oe=He(null),ce=He(!1);const de=n(()=>e(ce)?e(oe)??e(G):e(G)),xe=n(()=>(e(de)-e(K))/(e(ie)-e(K))*100);function ue(){e(T)&&re.toggle(e(T))}function Q(o){if(!e(r)||!e(T))return;const u=Ze(e(G)+o,e(K),e(ie));re.setHumidity(e(T),u)}function Ce(o){te(ce,!0),te(oe,Number(o.target.value),!0)}function Ie(o){te(ce,!1),e(T)&&re.setHumidity(e(T),Number(o.target.value)),te(oe,null)}function Pe(o){e(T)&&re.setMode(e(T),o)}const q=n(()=>e(r)?"var(--color-info)":"var(--fg-muted)"),l="var(--control-active-name)";var D=ga();let ye;var Ne=t(D);{var Re=o=>{var u=ia(),y=t(u),H=t(y);O(H,{name:"droplets",size:38}),a(y);var C=v(y,2);{var M=i=>{var c=sa(),z=t(c);a(c),h(m=>{s(c,`color: ${e(r)?l:"var(--fg)"}`),_(z,`${m??""}%`)},[()=>Math.round(e(L))]),b(i,c)},I=i=>{var c=va(),z=t(c);a(c),h(m=>{s(c,`color: ${e(r)?l:"var(--fg)"}`),_(z,`${m??""}%`)},[()=>Math.round(e(G))]),b(i,c)};B(C,i=>{e(L)!==void 0?i(M):i(I,!1)})}var S=v(C,2),g=t(S),F=t(g,!0);a(g);var P=v(g,2);{var V=i=>{var c=na(),z=Ue(c);s(z,"color: var(--control-active-name); opacity: 0.2;");var m=v(z,2);s(m,"color: var(--control-active-name)");var X=t(m);a(m),h(()=>_(X,`${e(G)??""}%`)),b(i,c)};B(P,i=>{e(r)&&i(V)})}a(S),a(u),h(()=>{s(y,`color: ${(e(r)?l:e(q))??""}`),s(g,`color: ${e(r)?l:"var(--fg-muted)"}`),_(F,e(r)?"On":"Off")}),w("click",u,ue),b(o,u)},Ae=o=>{var u=ca(),y=t(u),H=t(y),C=t(H);{let p=n(()=>e(W)==="xl"?44:32);O(C,{name:"droplets",get size(){return e(p)}})}a(H);var M=v(H,2),I=t(M),S=t(I,!0);a(I);var g=v(I,2),F=t(g,!0);a(g),a(M),a(y);var P=v(y,2),V=t(P),i=t(V),c=t(i);a(i);var z=v(i,2);{var m=p=>{var k=la();s(k,"color: var(--control-active-name); opacity: 0.7;");var $=t(k);a(k),h(()=>_($,`Target ${e(G)??""}%`)),b(p,k)};B(z,p=>{e(r)&&p(m)})}a(V);var X=v(V,2);{var me=p=>{var k=oa(),$=t(k);s($,"background: color-mix(in srgb, var(--control-active-name) 10%, transparent); color: var(--control-active-name)");var U=t($);O(U,{name:"minus",size:16}),a($);var N=v($,2);s(N,"background: color-mix(in srgb, var(--control-active-name) 10%, transparent); color: var(--control-active-name)");var Z=t(N);O(Z,{name:"plus",size:16}),a(N),a(k),w("click",$,()=>Q(-5)),w("click",N,()=>Q(5)),b(p,k)};B(X,p=>{e(r)&&p(me)})}a(P),a(u),h(p=>{s(H,`background: ${e(r)?"color-mix(in srgb, var(--mc) 20%, transparent)":"color-mix(in srgb, var(--fg) 8%, transparent)"}; color: ${e(r)?"var(--mc)":"var(--fg-muted)"}`),s(I,`color: ${e(r)?l:"var(--fg-muted)"}`),_(S,e(r)?"Humidifying":"Off"),s(g,`color: ${e(r)?l:"var(--fg-subtle)"}; opacity: ${e(r)?.7:1}`),_(F,e(be)),s(i,`color: ${e(r)?l:"var(--fg)"}`),_(c,`${p??""}%`)},[()=>e(L)!==void 0?Math.round(e(L)):Math.round(e(G))]),w("click",y,ue),b(o,u)},Be=o=>{var u=_a();let y;var H=t(u),C=t(H),M=t(C),I=t(M);{let f=n(()=>e(W)==="xl"?44:32);O(I,{name:"droplets",get size(){return e(f)}})}a(M);var S=v(M,2),g=t(S),F=t(g,!0);a(g);var P=v(g,2),V=t(P,!0);a(P),a(S),a(C);var i=v(C,2),c=t(i);{var z=f=>{var d=da(),ae=t(d);O(ae,{name:"droplets",size:14});var R=v(ae,2),A=t(R);a(R),a(d),h(()=>{s(d,`background: ${e(r)?"color-mix(in srgb, var(--fg) 10%, transparent)":"color-mix(in srgb, var(--fg) 5%, transparent)"}; color: ${e(r)?l:"var(--fg-muted)"}`),_(A,`${e(L)??""}% Current`)}),b(f,d)};B(c,f=>{e(L)!==void 0&&f(z)})}var m=v(c,2);let X;var me=t(m);O(me,{name:"power",size:16}),a(m),a(i),a(H);var p=v(H,2),k=t(p),$=t(k),U=t($),N=t(U),Z=t(N),Ee=v(Z);a(N);var pe=v(N,2),ee=t(pe),Ge=t(ee);a(ee);var Le=v(ee,2);a(pe);var Se=v(pe,2);{var Ve=f=>{var d=ua();ta(d),h(()=>{ze(d,"min",e(K)),ze(d,"max",e(ie)),ra(d,e(de))}),w("input",d,Ce),w("change",d,Ie),b(f,d)};B(Se,f=>{e(r)&&f(Ve)})}a(U),a($);var _e=v($,2),Y=t(_e),We=t(Y);O(We,{name:"minus",size:24}),a(Y);var ge=v(Y,2),he=t(ge),fe=v(he,2),Xe=t(fe);a(fe),a(ge);var J=v(ge,2),Ye=t(J);O(Ye,{name:"plus",size:24}),a(J),a(_e),a(k),a(p);var qe=v(p,2);{var De=f=>{var d=pa();ea(d,21,()=>e(je),aa,(ae,R)=>{var A=ma();let ke;var $e=t(A),Fe=t($e,!0);a($e),a(A),h(()=>{ke=se(A,1,"mode-btn svelte-pnj3re",null,ke,{active:e(le)===e(R)}),s(A,`color: ${e(r)&&e(le)!==e(R)?l:""}; opacity: ${e(r)&&e(le)!==e(R)?.7:1}`),_(Fe,e(R))}),w("click",A,()=>Pe(e(R))),b(ae,A)}),a(d),h(()=>s(d,`background: ${e(r)?"color-mix(in srgb, var(--fg) 10%, transparent)":"color-mix(in srgb, var(--fg) 3%, transparent)"}`)),b(f,d)};B(qe,f=>{e(je).length>0&&f(De)})}a(u),h(()=>{y=se(u,1,"layout-lg svelte-pnj3re",null,y,{"is-xl":e(W)==="xl"}),s(M,`background: color-mix(in srgb, ${e(q)??""} 15%, transparent); color: ${e(q)??""}`),s(g,`color: ${(e(r)?l:e(q))??""}`),_(F,e(r)?"Humidifying":"Off"),s(P,`color: ${e(r)?l:"var(--fg-subtle)"}; opacity: ${e(r)?.7:1}`),_(V,e(be)),X=se(m,1,"power-toggle svelte-pnj3re",null,X,{active:e(r)}),s(m,`color: ${e(r)?"var(--mc)":"var(--fg-subtle)"}`),s(Z,`stroke: ${e(r)?"color-mix(in srgb, var(--fg) 15%, transparent)":"color-mix(in srgb, var(--fg) 5%, transparent)"}`),s(Ee,`stroke-dasharray: ${e(xe)*5.34} 534; stroke: ${e(r)?"var(--mc)":"var(--fg-subtle)"};`),s(ee,`color: ${e(r)?l:"var(--fg)"}`),_(Ge,`${e(de)??""}%`),s(Le,`color: ${e(r)?l:"var(--fg-subtle)"}; opacity: 0.7;`),s(_e,`background: ${e(r)?"color-mix(in srgb, var(--fg) 10%, transparent)":"color-mix(in srgb, var(--fg) 4%, transparent)"}`),Y.disabled=!e(r),s(Y,`color: ${e(r)?l:"var(--fg-muted)"}`),s(he,`color: ${e(r)?l:"var(--fg-muted)"}; opacity: 0.6;`),s(fe,`color: ${e(r)?l:"var(--fg)"}`),_(Xe,`${e(L)??"--"??""}%`),J.disabled=!e(r),s(J,`color: ${e(r)?l:"var(--fg-muted)"}`)}),w("click",m,ue),w("click",Y,()=>Q(-1)),w("click",J,()=>Q(1)),b(o,u)};B(Ne,o=>{e(W)==="sm"?o(Re):e(W)==="md"?o(Ae,1):o(Be,!1)})}a(D),h(()=>{ye=se(D,1,`hum-tile size-${e(W)??""}`,"svelte-pnj3re",ye,{"is-off":e(Oe),unavailable:e(Te)}),s(D,`--mc: ${e(q)??""}; --hp: ${e(xe)??""}%;`)}),b(we,D),Qe()}Je(["click","input","change"]);export{ka as default};
