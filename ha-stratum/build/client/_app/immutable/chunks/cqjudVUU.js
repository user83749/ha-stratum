import{a as q,b as u,f as _,d as ie}from"./CHLJW1vT.js";import{p as ne,d as l,r as s,c as d,g as e,t as C,b as ce,X as t,n as ve,s as A}from"./BFobMjM6.js";import{s as m}from"./CbAumXQD.js";import{i as P}from"./DtaZhLEA.js";import{o as D,e as de,b as ye}from"./pOHzWP0b.js";import{s as S,f as O,g as fe}from"./CoH-M4O8.js";var ue=_('<span class="osc-chip svelte-zo4y7j">OSC</span>'),_e=_('<div class="circle-wrap svelte-zo4y7j"><svg viewBox="0 0 50 50" class="circle-svg svelte-zo4y7j"><circle cx="25" cy="25" r="22.1" class="circle-stroke svelte-zo4y7j" stroke-dasharray="138.85"></circle><text x="50%" y="52%" class="circle-value svelte-zo4y7j"> <tspan dx=".2" dy="-.4" class="svelte-zo4y7j">%</tspan></text></svg></div>'),pe=_("<button> </button>"),ge=_('<div class="presets svelte-zo4y7j"></div>'),xe=_('<div><div class="tile-content svelte-zo4y7j"><div class="top svelte-zo4y7j"><button class="fan-btn svelte-zo4y7j"><span><svg viewBox="0 0 24 24" aria-hidden="true" class="svelte-zo4y7j"><ellipse cx="12" cy="6.2" rx="2.2" ry="4.4" fill="currentColor"></ellipse><ellipse cx="12" cy="6.2" rx="2.2" ry="4.4" fill="currentColor" transform="rotate(120 12 12)"></ellipse><ellipse cx="12" cy="6.2" rx="2.2" ry="4.4" fill="currentColor" transform="rotate(240 12 12)"></ellipse><circle cx="12" cy="12" r="1.9" fill="currentColor"></circle></svg></span></button> <!></div> <div class="bottom svelte-zo4y7j"><span class="name-text svelte-zo4y7j"> </span> <span class="state-text svelte-zo4y7j"> </span></div></div> <!> <!></div>');function we(E,r){ne(r,!0);const G=t(()=>r.tile.config),z=t(()=>r.tile.layout?.w??r.tile.size?.w??1),j=t(()=>r.tile.layout?.h??r.tile.size?.h??1),b=t(()=>e(z)>=4&&e(j)>=3?"xl":e(z)>=3&&e(j)>=2?"lg":e(z)>=2||e(j)>=2?"md":"sm"),p=t(()=>r.entity?.entity_id??r.tile.entity_id??""),y=t(()=>r.entity?.attributes??{}),J=t(()=>e(G).name??e(y).friendly_name??"Fan"),n=t(()=>r.entity?.state==="on"),T=t(()=>e(y).percentage??null),K=t(()=>e(y).oscillating??!1),B=t(()=>e(y).preset_modes??[]),L=t(()=>e(y).preset_mode??""),N=t(()=>e(n)&&e(T)!==null),Q=t(()=>(e(b)==="lg"||e(b)==="xl")&&e(B).length>0&&e(n));let U=A(null),V=A(!1);const F=t(()=>e(V)?e(U):e(T)),H=t(()=>e(F)??(e(n)?100:0));function Y(){e(p)&&D.toggle(e(p))}var c=xe();let I;var h=l(c),k=l(h),f=l(k),Z=l(f);let M;s(f);var $=d(f,2);{var ee=a=>{var o=ue();u(a,o)};P($,a=>{e(K)&&a(ee)})}s(k);var R=d(k,2),w=l(R),te=l(w,!0);s(w);var W=d(w,2),se=l(W,!0);s(W),s(R),s(h);var X=d(h,2);{var ae=a=>{var o=_e(),g=l(o),v=l(g),i=d(v),x=l(i,!0);ve(),s(i),s(g),s(o),C(()=>{O(v,"stroke-dashoffset",138.85-e(H)/100*138.85),m(x,e(F)??100)}),u(a,o)};P(X,a=>{e(N)&&a(ae)})}var le=d(X,2);{var re=a=>{var o=ge();de(o,21,()=>e(B),ye,(g,v)=>{var i=pe();let x;var oe=l(i,!0);s(i),C(()=>{x=S(i,1,"preset svelte-zo4y7j",null,x,{active:e(L)===e(v)}),m(oe,e(v))}),q("click",i,()=>e(p)&&D.setPresetMode(e(p),e(v))),u(g,i)}),s(o),u(a,o)};P(le,a=>{e(Q)&&a(re)})}s(c),C(()=>{I=S(c,1,"fan-tile svelte-zo4y7j",null,I,{on:e(n)}),O(c,"data-size",e(b)),fe(c,`--sp: ${e(H)??""}%;`),O(f,"aria-label",e(n)?"Turn off":"Turn on"),M=S(Z,1,"fan-glyph svelte-zo4y7j",null,M,{spinning:e(n)}),m(te,e(J)),m(se,e(n)?"On":"Off")}),q("click",f,Y),u(E,c),ce()}ie(["click"]);export{we as default};
